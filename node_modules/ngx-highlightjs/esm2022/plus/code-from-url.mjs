import { inject, Pipe } from '@angular/core';
import { CodeLoader } from './code-loader';
import { HIGHLIGHT_FILE_LOCATION } from './code-file-location';
import { isUrl } from './gist.model';
import * as i0 from "@angular/core";
export class CodeFromUrlPipe {
    constructor() {
        this._location = inject(HIGHLIGHT_FILE_LOCATION);
        this._loader = inject(CodeLoader);
    }
    transform(url) {
        return this._loader.getCodeFromUrl(isUrl(url) ? url : `${this._location.getPathname()}/${url}`);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: CodeFromUrlPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }
    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "18.0.1", ngImport: i0, type: CodeFromUrlPipe, isStandalone: true, name: "codeFromUrl" }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: CodeFromUrlPipe, decorators: [{
            type: Pipe,
            args: [{
                    standalone: true,
                    name: 'codeFromUrl'
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1mcm9tLXVybC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1oaWdobGlnaHRqcy9wbHVzL3NyYy9jb2RlLWZyb20tdXJsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFpQixNQUFNLGVBQWUsQ0FBQztBQUU1RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSx1QkFBdUIsRUFBb0IsTUFBTSxzQkFBc0IsQ0FBQztBQUNqRixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDOztBQU1yQyxNQUFNLE9BQU8sZUFBZTtJQUo1QjtRQU1VLGNBQVMsR0FBcUIsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFFOUQsWUFBTyxHQUFlLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUtsRDtJQUhDLFNBQVMsQ0FBQyxHQUFXO1FBQ25CLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUcsSUFBSyxHQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3RHLENBQUM7OEdBUlUsZUFBZTs0R0FBZixlQUFlOzsyRkFBZixlQUFlO2tCQUozQixJQUFJO21CQUFDO29CQUNKLFVBQVUsRUFBRSxJQUFJO29CQUNoQixJQUFJLEVBQUUsYUFBYTtpQkFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmplY3QsIFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBDb2RlTG9hZGVyIH0gZnJvbSAnLi9jb2RlLWxvYWRlcic7XHJcbmltcG9ydCB7IEhJR0hMSUdIVF9GSUxFX0xPQ0FUSU9OLCBDb2RlRmlsZUxvY2F0aW9uIH0gZnJvbSAnLi9jb2RlLWZpbGUtbG9jYXRpb24nO1xyXG5pbXBvcnQgeyBpc1VybCB9IGZyb20gJy4vZ2lzdC5tb2RlbCc7XHJcblxyXG5AUGlwZSh7XHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBuYW1lOiAnY29kZUZyb21VcmwnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDb2RlRnJvbVVybFBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHJcbiAgcHJpdmF0ZSBfbG9jYXRpb246IENvZGVGaWxlTG9jYXRpb24gPSBpbmplY3QoSElHSExJR0hUX0ZJTEVfTE9DQVRJT04pO1xyXG5cclxuICBwcml2YXRlIF9sb2FkZXI6IENvZGVMb2FkZXIgPSBpbmplY3QoQ29kZUxvYWRlcik7XHJcblxyXG4gIHRyYW5zZm9ybSh1cmw6IHN0cmluZyk6IE9ic2VydmFibGU8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9hZGVyLmdldENvZGVGcm9tVXJsKGlzVXJsKHVybCkgPyB1cmwgOiBgJHsgdGhpcy5fbG9jYXRpb24uZ2V0UGF0aG5hbWUoKSB9LyR7IHVybCB9YCk7XHJcbiAgfVxyXG59XHJcbiJdfQ==