import { inject, InjectionToken } from '@angular/core';
import { DOCUMENT } from '@angular/common';
/**
 * Injection token used to provide the current location to `codeFromUrl` pipe.
 * Used to handle server-side rendering and to stub out during unit tests.
 */
export const HIGHLIGHT_FILE_LOCATION = new InjectionToken('HIGHLIGHT_FILE_LOCATION', {
    providedIn: 'root',
    factory: CODE_FILE_LOCATION_FACTORY,
});
export function CODE_FILE_LOCATION_FACTORY() {
    const _location = inject(DOCUMENT)?.location;
    return {
        // Note that this needs to be a function, rather than a property, because Angular
        // will only resolve it once, but we want the current path on each call.
        // getPathname: () => (_location ? _location.pathname + _location.search : ''),
        getPathname: () => (_location ? _location.origin : '')
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1maWxlLWxvY2F0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWhpZ2hsaWdodGpzL3BsdXMvc3JjL2NvZGUtZmlsZS1sb2NhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN2RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFM0M7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQXdCLElBQUksY0FBYyxDQUFtQix5QkFBeUIsRUFBRTtJQUMxSCxVQUFVLEVBQUUsTUFBTTtJQUNsQixPQUFPLEVBQUUsMEJBQTBCO0NBQ3BDLENBQUMsQ0FBQztBQU1ILE1BQU0sVUFBVSwwQkFBMEI7SUFDeEMsTUFBTSxTQUFTLEdBQWEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFFBQVEsQ0FBQztJQUV2RCxPQUFPO1FBQ0wsaUZBQWlGO1FBQ2pGLHdFQUF3RTtRQUN4RSwrRUFBK0U7UUFDL0UsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7S0FDdkQsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmplY3QsIEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuXHJcbi8qKlxyXG4gKiBJbmplY3Rpb24gdG9rZW4gdXNlZCB0byBwcm92aWRlIHRoZSBjdXJyZW50IGxvY2F0aW9uIHRvIGBjb2RlRnJvbVVybGAgcGlwZS5cclxuICogVXNlZCB0byBoYW5kbGUgc2VydmVyLXNpZGUgcmVuZGVyaW5nIGFuZCB0byBzdHViIG91dCBkdXJpbmcgdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBISUdITElHSFRfRklMRV9MT0NBVElPTjogSW5qZWN0aW9uVG9rZW48YW55PiA9IG5ldyBJbmplY3Rpb25Ub2tlbjxDb2RlRmlsZUxvY2F0aW9uPignSElHSExJR0hUX0ZJTEVfTE9DQVRJT04nLCB7XHJcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxyXG4gIGZhY3Rvcnk6IENPREVfRklMRV9MT0NBVElPTl9GQUNUT1JZLFxyXG59KTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUZpbGVMb2NhdGlvbiB7XHJcbiAgZ2V0UGF0aG5hbWU6ICgpID0+IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENPREVfRklMRV9MT0NBVElPTl9GQUNUT1JZKCk6IENvZGVGaWxlTG9jYXRpb24ge1xyXG4gIGNvbnN0IF9sb2NhdGlvbjogTG9jYXRpb24gPSBpbmplY3QoRE9DVU1FTlQpPy5sb2NhdGlvbjtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIC8vIE5vdGUgdGhhdCB0aGlzIG5lZWRzIHRvIGJlIGEgZnVuY3Rpb24sIHJhdGhlciB0aGFuIGEgcHJvcGVydHksIGJlY2F1c2UgQW5ndWxhclxyXG4gICAgLy8gd2lsbCBvbmx5IHJlc29sdmUgaXQgb25jZSwgYnV0IHdlIHdhbnQgdGhlIGN1cnJlbnQgcGF0aCBvbiBlYWNoIGNhbGwuXHJcbiAgICAvLyBnZXRQYXRobmFtZTogKCkgPT4gKF9sb2NhdGlvbiA/IF9sb2NhdGlvbi5wYXRobmFtZSArIF9sb2NhdGlvbi5zZWFyY2ggOiAnJyksXHJcbiAgICBnZXRQYXRobmFtZTogKCkgPT4gKF9sb2NhdGlvbiA/IF9sb2NhdGlvbi5vcmlnaW4gOiAnJylcclxuICB9O1xyXG59XHJcbiJdfQ==