import { Directive, Input, Output, signal, booleanAttribute, input, EventEmitter } from '@angular/core';
import { HighlightBase } from './highlight-base';
import * as i0 from "@angular/core";
export class Highlight extends HighlightBase {
    constructor() {
        super(...arguments);
        // Code to highlight
        this.code = input(null, { alias: 'highlight' });
        // Highlighted result
        this.highlightResult = signal(null);
        // Stream that emits when code string is highlighted
        this.highlighted = new EventEmitter();
    }
    async highlightElement(code) {
        const res = await this._hljs.highlight(code, {
            language: this.language,
            ignoreIllegals: this.ignoreIllegals
        });
        this.highlightResult.set(res);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: Highlight, deps: null, target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "17.1.0", version: "18.0.1", type: Highlight, isStandalone: true, selector: "[highlight]", inputs: { code: { classPropertyName: "code", publicName: "highlight", isSignal: true, isRequired: false, transformFunction: null }, language: { classPropertyName: "language", publicName: "language", isSignal: false, isRequired: true, transformFunction: null }, ignoreIllegals: { classPropertyName: "ignoreIllegals", publicName: "ignoreIllegals", isSignal: false, isRequired: false, transformFunction: booleanAttribute } }, outputs: { highlighted: "highlighted" }, host: { properties: { "class.hljs": "true" } }, providers: [{ provide: HighlightBase, useExisting: Highlight }], usesInheritance: true, ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: Highlight, decorators: [{
            type: Directive,
            args: [{
                    standalone: true,
                    selector: '[highlight]',
                    providers: [{ provide: HighlightBase, useExisting: Highlight }],
                    host: {
                        '[class.hljs]': 'true'
                    }
                }]
        }], propDecorators: { language: [{
                type: Input,
                args: [{ required: true }]
            }], ignoreIllegals: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], highlighted: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWhpZ2hsaWdodGpzL3NyYy9saWIvaGlnaGxpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsS0FBSyxFQUNMLE1BQU0sRUFDTixNQUFNLEVBQ04sZ0JBQWdCLEVBQ2hCLEtBQUssRUFDTCxZQUFZLEVBR2IsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDOztBQVVqRCxNQUFNLE9BQU8sU0FBVSxTQUFRLGFBQWE7SUFSNUM7O1FBVUUsb0JBQW9CO1FBQ3BCLFNBQUksR0FBd0IsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBRWhFLHFCQUFxQjtRQUNyQixvQkFBZSxHQUFvQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFVaEUsb0RBQW9EO1FBQzFDLGdCQUFXLEdBQWtDLElBQUksWUFBWSxFQUFtQixDQUFDO0tBUzVGO0lBUEMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLElBQVk7UUFDakMsTUFBTSxHQUFHLEdBQW9CLE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFO1lBQzVELFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN2QixjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWM7U0FDcEMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEMsQ0FBQzs4R0F6QlUsU0FBUztrR0FBVCxTQUFTLGdjQWNBLGdCQUFnQiwwR0FuQnpCLENBQUMsRUFBRSxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsQ0FBQzs7MkZBS3BELFNBQVM7a0JBUnJCLFNBQVM7bUJBQUM7b0JBQ1QsVUFBVSxFQUFFLElBQUk7b0JBQ2hCLFFBQVEsRUFBRSxhQUFhO29CQUN2QixTQUFTLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxXQUFXLEVBQUUsQ0FBQztvQkFDL0QsSUFBSSxFQUFFO3dCQUNKLGNBQWMsRUFBRSxNQUFNO3FCQUN2QjtpQkFDRjs4QkFXNEIsUUFBUTtzQkFBbEMsS0FBSzt1QkFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7Z0JBSWUsY0FBYztzQkFBckQsS0FBSzt1QkFBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtnQkFHNUIsV0FBVztzQkFBcEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBzaWduYWwsXHJcbiAgYm9vbGVhbkF0dHJpYnV0ZSxcclxuICBpbnB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSW5wdXRTaWduYWwsXHJcbiAgV3JpdGFibGVTaWduYWxcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHR5cGUgeyBIaWdobGlnaHRSZXN1bHQgfSBmcm9tICdoaWdobGlnaHQuanMnO1xyXG5pbXBvcnQgeyBIaWdobGlnaHRCYXNlIH0gZnJvbSAnLi9oaWdobGlnaHQtYmFzZSc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuICBzdGFuZGFsb25lOiB0cnVlLFxyXG4gIHNlbGVjdG9yOiAnW2hpZ2hsaWdodF0nLFxyXG4gIHByb3ZpZGVyczogW3sgcHJvdmlkZTogSGlnaGxpZ2h0QmFzZSwgdXNlRXhpc3Rpbmc6IEhpZ2hsaWdodCB9XSxcclxuICBob3N0OiB7XHJcbiAgICAnW2NsYXNzLmhsanNdJzogJ3RydWUnXHJcbiAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgSGlnaGxpZ2h0IGV4dGVuZHMgSGlnaGxpZ2h0QmFzZSB7XHJcblxyXG4gIC8vIENvZGUgdG8gaGlnaGxpZ2h0XHJcbiAgY29kZTogSW5wdXRTaWduYWw8c3RyaW5nPiA9IGlucHV0KG51bGwsIHsgYWxpYXM6ICdoaWdobGlnaHQnIH0pO1xyXG5cclxuICAvLyBIaWdobGlnaHRlZCByZXN1bHRcclxuICBoaWdobGlnaHRSZXN1bHQ6IFdyaXRhYmxlU2lnbmFsPEhpZ2hsaWdodFJlc3VsdD4gPSBzaWduYWwobnVsbCk7XHJcblxyXG4gIC8vIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxhbmd1YWdlIG5hbWVzIGFuZCBhbGlhc2VzIHJlc3RyaWN0aW5nIGRldGVjdGlvbiB0byBvbmx5IHRob3NlIGxhbmd1YWdlcy5cclxuICAvLyBUaGUgc3Vic2V0IGNhbiBhbHNvIGJlIHNldCB3aXRoIGNvbmZpZ3VyZSwgYnV0IHRoZSBsb2NhbCBwYXJhbWV0ZXIgb3ZlcnJpZGVzIHRoZSBvcHRpb24gaWYgc2V0LlxyXG4gIEBJbnB1dCh7IHJlcXVpcmVkOiB0cnVlIH0pIGxhbmd1YWdlOiBzdHJpbmc7XHJcblxyXG4gIC8vIEFuIG9wdGlvbmFsIGZsYWcsIHdoZW4gc2V0IHRvIHRydWUgaXQgZm9yY2VzIGhpZ2hsaWdodGluZyB0byBmaW5pc2ggZXZlbiBpbiBjYXNlIG9mIGRldGVjdGluZ1xyXG4gIC8vIGlsbGVnYWwgc3ludGF4IGZvciB0aGUgbGFuZ3VhZ2UgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBleGNlcHRpb24uXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIGlnbm9yZUlsbGVnYWxzOiBib29sZWFuO1xyXG5cclxuICAvLyBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGNvZGUgc3RyaW5nIGlzIGhpZ2hsaWdodGVkXHJcbiAgQE91dHB1dCgpIGhpZ2hsaWdodGVkOiBFdmVudEVtaXR0ZXI8SGlnaGxpZ2h0UmVzdWx0PiA9IG5ldyBFdmVudEVtaXR0ZXI8SGlnaGxpZ2h0UmVzdWx0PigpO1xyXG5cclxuICBhc3luYyBoaWdobGlnaHRFbGVtZW50KGNvZGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgcmVzOiBIaWdobGlnaHRSZXN1bHQgPSBhd2FpdCB0aGlzLl9obGpzLmhpZ2hsaWdodChjb2RlLCB7XHJcbiAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlLFxyXG4gICAgICBpZ25vcmVJbGxlZ2FsczogdGhpcy5pZ25vcmVJbGxlZ2Fsc1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmhpZ2hsaWdodFJlc3VsdC5zZXQocmVzKTtcclxuICB9XHJcbn1cclxuIl19