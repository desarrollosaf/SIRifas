/** @internal */
function isFormArray(target) {
    // we need this to identify that the target is a FormArray
    // we don't want to have a dependency on @angular/forms just for that
    // just checking for random FormArray methods not available on a standard array
    return !!target.at && !!target.insert && !!target.reset;
}
/** @internal */
export class SortablejsBinding {
    constructor(target) {
        this.target = target;
    }
    insert(index, item) {
        if (isFormArray(this.target)) {
            this.target.insert(index, item);
        }
        else {
            this.target.splice(index, 0, item);
        }
    }
    get(index) {
        return isFormArray(this.target) ? this.target.at(index) : this.target[index];
    }
    remove(index) {
        let item;
        if (isFormArray(this.target)) {
            item = this.target.at(index);
            this.target.removeAt(index);
        }
        else {
            item = this.target.splice(index, 1)[0];
        }
        return item;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ydGFibGVqcy1iaW5kaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcGFja2FnZXMvc29ydGFibGVqcy9zcmMvbGliL3NvcnRhYmxlanMtYmluZGluZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxnQkFBZ0I7QUFDaEIsU0FBUyxXQUFXLENBQUksTUFBdUI7SUFDM0MsMERBQTBEO0lBQzFELHFFQUFxRTtJQUNyRSwrRUFBK0U7SUFDL0UsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUUsTUFBb0IsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFFLE1BQW9CLENBQUMsS0FBSyxDQUFBO0FBQ3pGLENBQUM7QUFFRCxnQkFBZ0I7QUFDaEIsTUFBTSxPQUFPLGlCQUFpQjtJQUUxQixZQUNxQixNQUF1QjtRQUF2QixXQUFNLEdBQU4sTUFBTSxDQUFpQjtJQUN4QyxDQUFDO0lBRUwsTUFBTSxDQUFDLEtBQWEsRUFBRSxJQUFTO1FBQzNCLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUNuQyxDQUFDO2FBQU0sQ0FBQztZQUNILElBQUksQ0FBQyxNQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDL0MsQ0FBQztJQUNMLENBQUM7SUFFRCxHQUFHLENBQUMsS0FBYTtRQUNiLE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFNLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQyxNQUFjLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDOUYsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFhO1FBQ2hCLElBQUksSUFBSSxDQUFBO1FBRVIsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDM0IsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQzVCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQy9CLENBQUM7YUFBTSxDQUFDO1lBQ0osSUFBSSxHQUFJLElBQUksQ0FBQyxNQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNuRCxDQUFDO1FBRUQsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDO0NBRUoiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXHJcbmltcG9ydCB7IHR5cGUgRm9ybUFycmF5IH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnXHJcbmltcG9ydCB7IFNvcnRhYmxlRGF0YSB9IGZyb20gJy4vc29ydGFibGVqcy5kaXJlY3RpdmUnXHJcblxyXG4vKiogQGludGVybmFsICovXHJcbmZ1bmN0aW9uIGlzRm9ybUFycmF5PFQ+KHRhcmdldDogU29ydGFibGVEYXRhPFQ+KTogdGFyZ2V0IGlzIChTb3J0YWJsZURhdGE8VD4gJiBGb3JtQXJyYXk8YW55Pikge1xyXG4gICAgLy8gd2UgbmVlZCB0aGlzIHRvIGlkZW50aWZ5IHRoYXQgdGhlIHRhcmdldCBpcyBhIEZvcm1BcnJheVxyXG4gICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBoYXZlIGEgZGVwZW5kZW5jeSBvbiBAYW5ndWxhci9mb3JtcyBqdXN0IGZvciB0aGF0XHJcbiAgICAvLyBqdXN0IGNoZWNraW5nIGZvciByYW5kb20gRm9ybUFycmF5IG1ldGhvZHMgbm90IGF2YWlsYWJsZSBvbiBhIHN0YW5kYXJkIGFycmF5XHJcbiAgICByZXR1cm4gISF0YXJnZXQuYXQgJiYgISEodGFyZ2V0IGFzIEZvcm1BcnJheSkuaW5zZXJ0ICYmICEhKHRhcmdldCBhcyBGb3JtQXJyYXkpLnJlc2V0XHJcbn1cclxuXHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZXhwb3J0IGNsYXNzIFNvcnRhYmxlanNCaW5kaW5nPFQ+IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHRhcmdldDogU29ydGFibGVEYXRhPFQ+XHJcbiAgICApIHsgfVxyXG5cclxuICAgIGluc2VydChpbmRleDogbnVtYmVyLCBpdGVtOiBhbnkpIHtcclxuICAgICAgICBpZiAoaXNGb3JtQXJyYXkodGhpcy50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lmluc2VydChpbmRleCwgaXRlbSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAodGhpcy50YXJnZXQgYXMgVFtdKS5zcGxpY2UoaW5kZXgsIDAsIGl0ZW0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzRm9ybUFycmF5KHRoaXMudGFyZ2V0KSA/IHRoaXMudGFyZ2V0LmF0KGluZGV4KSBhcyBUIDogKHRoaXMudGFyZ2V0IGFzIFRbXSlbaW5kZXhdXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaXRlbVxyXG5cclxuICAgICAgICBpZiAoaXNGb3JtQXJyYXkodGhpcy50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLnRhcmdldC5hdChpbmRleClcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQucmVtb3ZlQXQoaW5kZXgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbSA9ICh0aGlzLnRhcmdldCBhcyBUW10pLnNwbGljZShpbmRleCwgMSlbMF1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpdGVtXHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==